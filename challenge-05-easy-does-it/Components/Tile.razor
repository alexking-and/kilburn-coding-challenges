@using challenge_5_easy_does_it.Enums;

<img class="game-tile" height="@sideLength" src="@getImageUrl()" />

@code {
    [Parameter]
    public int sideLength { get; set; } = 50;

    [Parameter]
    public TileType tileType { get; set; } = TileType.Empty;

    [Parameter]
    public bool robot { get; set; } = false;

    [Parameter]
    public WinState winState { get; set; } = WinState.InProgress;

    protected string getImageUrl()
    {
        switch (robot)
        {
            case true:
                switch (tileType)
                {
                    case TileType.Exit:
                        return "images/exit_robot.png";
                    case TileType.Mine:
                        return "images/mine_robot.png";
                    default:
                        return "images/empty_robot.png";
                }
            case false:
                switch (tileType)
                {
                    case TileType.Exit:
                        return "images/exit.png";
                    case TileType.Wall:
                        return "images/wall.png";
                    case TileType.Mine:
                        if (winState == WinState.Win) {
                            return "images/mine.png";
                        }
                        return "images/empty.png";
                    default:
                        return "images/empty.png";
                }
        }
    }
}
